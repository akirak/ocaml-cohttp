<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Debug (cohttp-lwt-unix.Cohttp_lwt_unix.Debug)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">cohttp-lwt-unix</a> &#x00BB; <a href="../index.html">Cohttp_lwt_unix</a> &#x00BB; Debug</nav><header class="odoc-preamble"><h1>Module <code><span>Cohttp_lwt_unix.Debug</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#selectively-disable-cohttp-logging">Selectively disable cohttp logging</a></li></ul></nav><div class="odoc-content"><p>Debugging output for Cohttp Unix</p><div class="odoc-spec"><div class="spec value" id="val-default_reporter" class="anchored"><a href="#val-default_reporter" class="anchor"></a><code><span><span class="keyword">val</span> default_reporter : <span class="xref-unresolved">Logs</span>.reporter</span></code></div><div class="spec-doc"><p><code>default_reporter</code> provides a simple reporter that sends the logging output to stderr. For example, the code below enables logging at level <code>level</code> to stderr, using coloured output if possible.</p><pre><code>Fmt_tty.setup_std_outputs ();
Logs.set_level ~all:true (Some level);
Logs.set_reporter Debug.default_reporter</code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-activate_debug" class="anchored"><a href="#val-activate_debug" class="anchor"></a><code><span><span class="keyword">val</span> activate_debug : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>activate_debug</code> enables debugging output that will be sent to standard error.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-debug_active" class="anchored"><a href="#val-debug_active" class="anchor"></a><code><span><span class="keyword">val</span> debug_active : <span>unit <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>debug_active</code> returns true if <code>activate_debug</code> has been called and false otherwise</p></div></div><h3 id="selectively-disable-cohttp-logging"><a href="#selectively-disable-cohttp-logging" class="anchor"></a>Selectively disable cohttp logging</h3><p>It is possible to selectively disable cohttp internal logginb by filtering over the various modules logs names as follows.</p><pre><code>(* Set log level v for all loggers, this does also affect cohttp internal loggers *)
Logs.set_level ~all:true level;
(* Disable all cohttp-lwt and cohttp-lwt-unix logs *)
List.iter (fun src -&gt;
    match Logs.Src.name src with
    | &quot;cohttp.lwt.io&quot; | &quot;cohttp.lwt.server&quot; -&gt; Logs.Src.set_level src None
    | _ -&gt; ())
@@ Logs.Src.list ()</code></pre></div></body></html>